<p>パターンに不本意な量化子(lazyまたはnon-greedy量化子としても知られています)を使用すると、しばしば不必要なバックトラックが発生し、正規表現が不必要に非効率になり、<a href="https://www.regular-expressions.info/catastrophic.html">致命的なバックトラックの</a>可能性があります。特に<code translate="no">.*?</code> や<code translate="no">.+?</code> を使用して終端文字までマッチする場合、代わりに終端文字を含む欲張りまたは所有量化否定文字クラスを使用すると良い考えがある場合が多いです。例えば、<code translate="no">&lt;.+?&gt;</code>は、<code translate="no">&lt;[^&gt;]++&gt;</code> と置き換える必要があります。</p>
<h2>コンプライアンス違反のコード例</h2>
<pre translate="no">
&lt;.+?&gt;
".*?"
</pre>
<h2>コンプライアンス・ソリューション</h2>
<pre translate="no">
&lt;[^&gt;]++&gt;
"[^"]*+"
</pre>
<p>または</p>
<pre translate="no">
&lt;[^&gt;]+&gt;
"[^"]*"
</pre>
<h2>例外あり</h2>
<p>このルールは、消極的な量化子が否定された文字クラスで簡単に置き換えられる場合にのみ適用されます。つまり、繰り返しは1つの文字または文字クラスで終了する必要があります。以下のようなパターンでは、不本意な量化詞のない選択肢はより複雑であるため、このルールは適用されません：</p>
<pre translate="no">
&lt;!--.*?--&gt;
/\*.*?\*/
</pre>

