<p>Java Language Specificationによると、<code translate="no">equals(Object)</code> と<code translate="no">hashCode()</code> の間に契約がある：</p>
<blockquote>
  <p>2つのオブジェクトが<code translate="no">equals(Object)</code> メソッドに従って等しい場合、2つのオブジェクトのそれぞれに対して<code translate="no">hashCode</code> メソッドを呼び出すと、同じ整数の結果が得られるはずです。</p>
  <p>2つのオブジェクトが<code translate="no">equals(java.lang.Object)</code> メソッドによって不等間隔である場合、2つのオブジェクトのそれぞれについて<code translate="no">hashCode</code> メソッドを呼び出すと、異なる整数の結果が得られなければならないことは要求されない。</p>
  <p>しかし、プログラマは、不均等なオブジェクトに対して明確な整数結果を生成することで、ハッシュテーブルのパフォーマンスを向上させることができることを認識する必要があります。</p>
</blockquote>
<p>この契約に従うためには、これらのメソッドは両方とも継承されるか、または両方ともオーバーライドされる必要があります。</p>
<h2>コンプライアンス違反のコード例</h2>
<pre translate="no">
class MyClass {    // Noncompliant - should also override "hashCode()"

  @Override
  public boolean equals(Object obj) {
    /* ... */
  }

}
</pre>
<h2>コンプライアンス・ソリューション</h2>
<pre translate="no">
class MyClass {    // Compliant

  @Override
  public boolean equals(Object obj) {
    /* ... */
  }

  @Override
  public int hashCode() {
    /* ... */
  }

}
</pre>
<h2>見る</h2>
<ul>
  <li><a href="https://cwe.mitre.org/data/definitions/581">MITRE, CWE-581</a>- オブジェクトモデル違反：EqualsとHashcodeのどちらか一方が定義されているのみ </li>
  <li><a href="https://wiki.sei.cmu.edu/confluence/x/7DVGBQ">CERT, MET09-J.</a>- equals()メソッドを定義するクラスは、hashCode()メソッドも定義する必要があります。 </li>
</ul>

